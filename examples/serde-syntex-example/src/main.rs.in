macro_rules! make_point(
    ($p:ident) => {
        #[derive(Serialize, Deserialize, Debug)]
        struct $p {
            x: i32,
            y: i32,
        }
    }
);

make_point!(Point);

fn main() {
    let point = Point { x: 1, y: 2 };
    let serialized = serde_json::to_string(&point).unwrap();

    println!("{}", serialized);

    let deserialized: Point = serde_json::from_str(&serialized).unwrap();

    println!("{:?}", deserialized);
}
